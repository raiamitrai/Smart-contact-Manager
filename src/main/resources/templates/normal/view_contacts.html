<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="normal/navbar::layout(~{::section})">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:text="${title}">title</title>
</head>
<body>

<section class="container mt-5">

    <!-- Page Heading -->
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4">
        <h2 class="text-primary mb-3 mb-md-0">üìí Your Contacts</h2>
        <a href="/user/add-contact" class="btn btn-success">‚ûï Add New Contact</a>
    </div>

    <!-- Contact Table -->
    <div class="card shadow-lg border-0 rounded-3">
        <div class="card-body p-3">

            <!-- Responsive Table Wrapper -->
            <div class="table-responsive">
                <table class="table table-hover align-middle mb-0">
                    <thead class="table-dark">
                    <tr>
                        <th>#</th>
                        <th>Profile</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Work</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="contact, iterStat : ${contacts}">
                        <th th:text="${iterStat.index + 1}"></th>
                        <td>
                            <img th:src="@{'/img/' + ${contact.image}}" alt="profile"
                                 class="rounded-circle" style="width:50px; height:50px; object-fit:cover;">
                        </td>
                        <td th:text="${contact.name + ' ' + contact.secondName}"></td>
                        <td th:text="${contact.email}"></td>
                        <td th:text="${contact.phone}"></td>
                        <td th:text="${contact.work}"></td>
                        <td>
                            <a th:href="@{'/user/delete/' + ${contact.cId}}" class="btn btn-sm btn-danger mb-1 mb-md-0">üóëÔ∏è Delete</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center mt-4 flex-wrap">
                    <li class="page-item" th:classappend="${contacts.hasPrevious()} ? '' : 'disabled'">
                        <a class="page-link" th:href="@{/user/contacts(page=${contacts.number - 1})}">Previous</a>
                    </li>
                    <li class="page-item" th:each="i : ${#numbers.sequence(0, contacts.totalPages - 1)}"
                        th:classappend="${i == contacts.number} ? 'active'">
                        <a class="page-link" th:href="@{/user/contacts(page=${i})}" th:text="${i + 1}">1</a>
                    </li>
                    <li class="page-item" th:classappend="${contacts.hasNext()} ? '' : 'disabled'">
                        <a class="page-link" th:href="@{/user/contacts(page=${contacts.number + 1})}">Next</a>
                    </li>
                </ul>
            </nav>

        </div>
    </div>

</section>


</body>
</html>